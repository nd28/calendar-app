(()=>{"use strict";var e={358:function(e,t,a){var r=a(893),n=a(294),s=a(745);let o=class{static range(e,t){return Array.from({length:t-e+1},(t,a)=>e+a)}static formatDate(e){return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}static capitalize(e){return e?e.charAt(0).toUpperCase()+e.slice(1):e}static rangeWithLambda(e,t,a){return Array.from({length:t-e+1},(t,r)=>a(e+r))}},i=class{ab(){throw Error("Method 'loadFromStorage()' must be implemented.")}save(){let e=Object.fromEntries(this.data);localStorage.setItem(this.storageKey,JSON.stringify(e))}loadFromStorage(){let e=localStorage.getItem(this.storageKey);if(e){let t=JSON.parse(e);this.data=new Map(Object.entries(t))}}getData(e){let t=o.formatDate(e);return this.data.get(t)||null}setData(e,t){let a=o.formatDate(e);this.data.set(a,t),this.save()}constructor(e){this.storageKey=e,this.data=new Map,this.loadFromStorage()}},l=class extends i{markAttendance(e,t){this.setData(e,t)}getAttenance(e){return this.getData(e)}constructor(){super("attendenaceData")}},d=class extends i{addWorklog(e,t){this.setData(e,t)}getWorklog(e){return this.getData(e)}constructor(){super("worklogData")}},c=class{getDaysInMonth(e,t){return new Date(e,t+1,0).getDate()}getFirstDayOfMonth(e,t){return new Date(e,t,1).getDay()}markAttendance(e,t){this.attendanceManager.markAttendance(e,t)}addWorklog(e,t){this.worklogManager.addWorklog(e,t)}getAttendance(e){return this.attendanceManager.getAttenance(e)}getWorklog(e){return this.worklogManager.getWorklog(e)}getMonthData(e,t){let a=this.getDaysInMonth(e,t),r=this.getFirstDayOfMonth(e,t),n=[];return o.rangeWithLambda(0,r-1,()=>n.push(null)),o.rangeWithLambda(1,a,a=>{let r=new Date(e,t,a),s=0===r.getDay()||6===r.getDay();n.push({date:r,worklog:this.getWorklog(r),attendance:this.getAttendance(r),isWeekend:s})}),n}getAttendanceSummary(e,t){let a=this.getDaysInMonth(e,t),r=0,n=0,s=0;return o.rangeWithLambda(1,a,a=>{let o=new Date(e,t,a),i=this.getAttendance(o);"present"===i?r++:"absent"===i?n++:"leave"===i&&s++}),{presentDays:r,absentDays:n,leaveDays:s}}constructor(){this.currentDate=new Date,this.attendanceManager=new l,this.worklogManager=new d}};var g=a(672),u=a(208),h=a(26),m=a(19);function x(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,m.m6)((0,h.W)(t))}let v=(0,u.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function b(e){let{className:t,variant:a,size:n,asChild:s=!1,...o}=e,i=s?g.g7:"button";return(0,r.jsx)(i,{"data-slot":"button",className:x(v({variant:a,size:n,className:t})),...o})}let p=e=>{let{currentDate:t,onPrevMonth:a,onNextMonth:n}=e;return(0,r.jsxs)("div",{className:"calendar-header flex items-center justify-between mb-4",children:[(0,r.jsx)(b,{onClick:a,variant:"outline",children:"Previous"}),(0,r.jsxs)("h2",{className:"text-2xl font-semibold",children:[t.toLocaleString("default",{month:"long"})," ",t.getFullYear()]}),(0,r.jsx)(b,{onClick:n,variant:"outline",children:"Next"})]})},f=e=>{let{monthData:t,onDateClick:a}=e;return(0,r.jsxs)("div",{className:"grid grid-cols-7 gap-[2px] bg-gray-100",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,r.jsx)("div",{className:"calendar-day-header bg-gray-800 text-white p-2 text-center text-sm",children:e},e)),t.map((e,t)=>(0,r.jsx)("div",{className:`calendar-day min-h-[80px] p-2 text-center cursor-pointer
                        ${e?"bg-slate-50 hover:bg-blue-200":"bg-gray-200"}
                        ${(null==e?void 0:e.attendance)?`status-${e.attendance}`:""}
                        ${(null==e?void 0:e.isWeekend)?"bg-slate-200 hover:bg-slate-300":""}`,onClick:()=>a(e),children:e?e.date.getDate():""},t))]})};function k(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:x("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function j(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:x("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-[data-slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function y(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:x("leading-none font-semibold",t),...a})}function w(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:x("px-6",t),...a})}function D(e){let{className:t,...a}=e;return(0,r.jsx)("textarea",{"data-slot":"textarea",className:x("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...a})}let N=e=>{let{selectedDate:t,onMarkAttendance:a,onAddWorklog:n,getAttendance:s,getWorklog:i}=e;return(0,r.jsxs)(k,{className:"mt-4",children:[(0,r.jsx)(j,{children:(0,r.jsx)(y,{children:t.toDateString()})}),(0,r.jsxs)(w,{children:[(0,r.jsxs)("div",{className:"attendance-controls mb-4",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold mb-2",children:"Mark Attendance"}),(0,r.jsxs)("div",{className:"space-x-2",children:[(0,r.jsx)(b,{onClick:()=>a("present"),variant:"default",children:o.capitalize("present")}),(0,r.jsx)(b,{onClick:()=>a("absent"),variant:"destructive",children:o.capitalize("absent")}),(0,r.jsx)(b,{onClick:()=>a("leave"),variant:"secondary",children:o.capitalize("leave")})]})]}),(0,r.jsxs)("div",{className:"worklog-controls mb-4",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold mb-2",children:"Add Worklog"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=e.target.worklog.value;t&&(n(t),e.target.worklog.value="")},children:[(0,r.jsx)(D,{name:"worklog",placeholder:"Enter worklog...",className:"mb-2"}),(0,r.jsx)(b,{type:"submit",children:"Add Worklog"})]})]}),(0,r.jsxs)("div",{className:"day-details",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold mb-2",children:"Details"}),(0,r.jsxs)("p",{className:"text-sm",children:["Attendance:"," ",o.capitalize(s(t))||"Not marked"]}),(0,r.jsxs)("p",{className:"text-sm",children:["Worklog: ",i(t)||"No worklog"]})]})]})]})},M=()=>{let[e]=(0,n.useState)(new c),[t,a]=(0,n.useState)(new Date),[s,o]=(0,n.useState)([]),[i,l]=(0,n.useState)(null);(0,n.useEffect)(()=>{d()},[t]);let d=()=>{let a=t.getFullYear(),r=t.getMonth();o(e.getMonthData(a,r))},{presentDays:g,absentDays:u,leaveDays:h}=e.getAttendanceSummary(t.getFullYear(),t.getMonth());return(0,r.jsxs)("div",{className:"calender-container",children:[(0,r.jsx)(p,{currentDate:t,onPrevMonth:()=>{a(new Date(t.getFullYear(),t.getMonth()-1))},onNextMonth:()=>{a(new Date(t.getFullYear(),t.getMonth()+1))}}),(0,r.jsxs)(k,{className:"attendance-summary mb-4",children:[(0,r.jsx)(j,{children:(0,r.jsx)(y,{children:"Monthly Attendance Summary"})}),(0,r.jsxs)(w,{children:[(0,r.jsxs)("p",{children:["Present: ",g]}),(0,r.jsxs)("p",{children:["Absent: ",u]}),(0,r.jsxs)("p",{children:["Leave: ",h]})]})]}),(0,r.jsx)(f,{monthData:s,onDateClick:e=>{e&&l(e.date)}}),i&&(0,r.jsx)(N,{selectedDate:i,onMarkAttendance:t=>{i&&(e.markAttendance(i,t),d())},onAddWorklog:t=>{i&&(e.addWorklog(i,t),d())},getAttendance:e.getAttendance.bind(e),getWorklog:e.getWorklog.bind(e)})]})};s.createRoot(document.getElementById("root")).render((0,r.jsx)(n.StrictMode,{children:(0,r.jsx)(()=>(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center p-4",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-6",children:"Attendance & Worklog Calendar"}),(0,r.jsx)(M,{})]}),{})}))}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,a),s.exports}a.m=e,a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=[];a.O=(t,r,n,s)=>{if(r){s=s||0;for(var o=e.length;o>0&&e[o-1][2]>s;o--)e[o]=e[o-1];e[o]=[r,n,s];return}for(var i=1/0,o=0;o<e.length;o++){for(var[r,n,s]=e[o],l=!0,d=0;d<r.length;d++)(!1&s||i>=s)&&Object.keys(a.O).every(e=>a.O[e](r[d]))?r.splice(d--,1):(l=!1,s<i&&(i=s));if(l){e.splice(o--,1);var c=n();void 0!==c&&(t=c)}}return t}})(),a.rv=()=>"1.2.8",(()=>{var e={980:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var n,s,[o,i,l]=r,d=0;if(o.some(t=>0!==e[t])){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(l)var c=l(a)}for(t&&t(r);d<o.length;d++)s=o[d],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},r=self.webpackChunkcalendar_app=self.webpackChunkcalendar_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),a.ruid="bundler=rspack@1.2.8";var r=a.O(void 0,["361","817"],function(){return a(358)});r=a.O(r)})();